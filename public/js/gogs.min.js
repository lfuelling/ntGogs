"use strict";let csrf,suburl,previewFileModes,simpleMDEditor,codeMirrorEditor;function initCommentPreviewTab(t){const e=t.find(".tabular.menu");e.find(".item").tab(),e.find('.item[data-tab="'+e.data("preview")+'"]').click(function(){const i=$(this);$.post(i.data("url"),{_csrf:csrf,mode:"gfm",context:i.data("context"),text:t.find('.tab.segment[data-tab="'+e.data("write")+'"] textarea').val()},function(i){const n=t.find('.tab.segment[data-tab="'+e.data("preview")+'"]');n.html(i),emojify.run(n[0]),$("pre code",n[0]).each(function(t,e){hljs.highlightBlock(e)})})}),buttonsClickOnEnter()}function initEditPreviewTab(t){const e=t.find(".tabular.menu");e.find(".item").tab();const i=e.find('.item[data-tab="'+e.data("preview")+'"]');i.length&&(previewFileModes=i.data("preview-file-modes").split(","),i.click(function(){const i=$(this);$.post(i.data("url"),{_csrf:csrf,context:i.data("context"),text:t.find('.tab.segment[data-tab="'+e.data("write")+'"] textarea').val()},function(i){const n=t.find('.tab.segment[data-tab="'+e.data("preview")+'"]');n.html(i),emojify.run(n[0]),$("pre code",n[0]).each(function(t,e){hljs.highlightBlock(e)})})}))}function initEditDiffTab(t){const e=t.find(".tabular.menu");e.find(".item").tab(),e.find('.item[data-tab="'+e.data("diff")+'"]').click(function(){const i=$(this);$.post(i.data("url"),{_csrf:csrf,content:t.find('.tab.segment[data-tab="'+e.data("write")+'"] textarea').val()},function(i){const n=t.find('.tab.segment[data-tab="'+e.data("diff")+'"]');n.html(i),emojify.run(n[0])})})}function initEditForm(){0!==$(".edit.form").length&&(initEditPreviewTab($(".edit.form")),initEditDiffTab($(".edit.form")))}function initCommentForm(){if(0===$(".comment.form").length)return;initCommentPreviewTab($(".comment.form"));const t=$(".ui.labels.list"),e=t.find(".no-select"),i=$(".select-label .menu"),n="update"===i.data("action");function o(t,e,i){$.post(t,{_csrf:csrf,action:e,id:i})}function a(t,e){const i=$(t+" .menu"),n=$(".ui"+t+".list"),a="update"===i.data("action");i.find(".item:not(.no-select)").click(function(){switch($(this).parent().find(".item").each(function(){$(this).removeClass("selected active")}),$(this).addClass("selected active"),a&&o(i.data("update-url"),"",$(this).data("id")),e){case"#milestone_id":n.find(".selected").html('<a class="item" href='+$(this).data("href")+">"+$(this).text()+"</a>");break;case"#assignee_id":n.find(".selected").html('<a class="item" href='+$(this).data("href")+'><img class="ui avatar image" src='+$(this).data("avatar")+">"+$(this).text()+"</a>")}$(".ui"+t+".list .no-select").addClass("hide"),$(e).val($(this).data("id"))}),i.find(".no-select.item").click(function(){$(this).parent().find(".item:not(.no-select)").each(function(){$(this).removeClass("selected active")}),a&&o(i.data("update-url"),"",""),n.find(".selected").html(""),n.find(".no-select").removeClass("hide"),$(e).val("")})}i.find(".item:not(.no-select) .octicon:not(.octicon-check)").each(function(){$(this).html("&nbsp;")}),i.find(".item:not(.no-select)").click(function(){$(this).hasClass("checked")?($(this).removeClass("checked"),$(this).find(".octicon").removeClass("octicon-check").html("&nbsp;"),n&&o(i.data("update-url"),"detach",$(this).data("id"))):($(this).addClass("checked"),$(this).find(".octicon").addClass("octicon-check").html(""),n&&o(i.data("update-url"),"attach",$(this).data("id")));let t="";return $(this).parent().find(".item").each(function(){$(this).hasClass("checked")?(t+=$(this).data("id")+",",$($(this).data("id-selector")).removeClass("hide")):$($(this).data("id-selector")).addClass("hide")}),0===t.length?e.removeClass("hide"):e.addClass("hide"),$($(this).parent().data("id")).val(t),!1}),i.find(".no-select.item").click(function(){n&&o(i.data("update-url"),"clear",""),$(this).parent().find(".item").each(function(){$(this).removeClass("checked"),$(this).find(".octicon").removeClass("octicon-check").html("&nbsp;")}),t.find(".item").each(function(){$(this).addClass("hide")}),e.removeClass("hide"),$($(this).parent().data("id")).val("")}),a(".select-milestone","#milestone_id"),a(".select-assignee","#assignee_id")}function initRepository(){if(0!==$(".repository").length){if(($(".repository.file.list").length>0||".repository.commits".length>0)&&(t(".choose.reference .dropdown"),$(".reference.column").click(function(){return $(".choose.reference .scrolling.menu").css("display","none"),$(".choose.reference .text").removeClass("black"),$($(this).data("target")).css("display","block"),$(this).find(".text").addClass("black"),!1})),$(".repository.wiki.view").length>0&&t(".choose.page .dropdown"),$(".repository.settings.options").length>0&&$("#repo_name").keyup(function(){const t=$("#repo-name-change-prompt");$(this).val().toString().toLowerCase()!==$(this).data("repo-name").toString().toLowerCase()?t.show():t.hide()}),$(".repository.settings.branches").length>0&&(t(".protected-branches .dropdown"),$(".enable-protection, .enable-whitelist").change(function(){this.checked?$($(this).data("target")).removeClass("disabled"):$($(this).data("target")).addClass("disabled")})),$(".repository.labels").length>0){const t=$(".new-label.segment");$(".new-label.button").click(function(){t.show()}),$(".new-label.segment .cancel").click(function(){t.hide()}),$(".color-picker").each(function(){$(this).minicolors()}),$(".precolors .color").click(function(){const t=$(this).data("color-hex");$(".color-picker").val(t),$(".minicolors-swatch-color").css("background-color",t)}),$(".edit-label-button").click(function(){return $("#label-modal-id").val($(this).data("id")),$(".edit-label .new-label-input").val($(this).data("title")),$(".edit-label .color-picker").val($(this).data("color")),$(".minicolors-swatch-color").css("background-color",$(this).data("color")),$(".edit-label.modal").modal({onApprove:function(){$(".edit-label.form").submit()}}).modal("show"),!1})}if($(".repository.milestones").length,$(".repository.new.milestone").length>0){const t=$(".milestone.datepicker");t.datetimepicker({lang:t.data("lang"),inline:!0,timepicker:!1,theme:"dark",startDate:t.data("start-date"),formatDate:"Y-m-d",onSelectDate:function(t){$("#deadline").val(t.dateFormat("Y-m-d"))}}),$("#clear-date").click(function(){return $("#deadline").val(""),!1})}if($(".repository.view.issue").length>0){const t=$("#issue-title"),e=$("#edit-title-input").find("input"),i=function(){return t.toggle(),$(".not-in-edit").toggle(),$("#edit-title-input").toggle(),$(".in-edit").toggle(),e.focus(),!1};$("#edit-title").click(i),$("#cancel-edit-title").click(i),$("#save-edit-title").click(i).click(function(){return 0===e.val().length||e.val()===t.text()?(e.val(t.text()),!1):($.post($(this).data("update-url"),{_csrf:csrf,title:e.val()},function(i){e.val(i.title),t.text(i.title)}),!1)}),$(".edit-content").click(function(){const t=$(this).parent().parent().parent().next(),e=t.find(".edit-content-zone"),i=t.find(".render-content"),n=t.find(".raw-content");let o;if(0===e.html().length){e.html($("#edit-content-form").html()),o=t.find("textarea");const n=e.find(".ui.comment.form"),a=n.find(".tabular.menu");a.attr("data-write",e.data("write")),a.attr("data-preview",e.data("preview")),a.find(".write.item").attr("data-tab",e.data("write")),a.find(".preview.item").attr("data-tab",e.data("preview")),n.find(".write.segment").attr("data-tab",e.data("write")),n.find(".preview.segment").attr("data-tab",e.data("preview")),initCommentPreviewTab(n),e.find(".cancel.button").click(function(){i.show(),e.hide()}),e.find(".save.button").click(function(){i.show(),e.hide(),$.post(e.data("update-url"),{_csrf:csrf,content:o.val(),context:e.data("context")},function(t){0===t.length?i.html($("#no-content").html()):(i.html(t.content),emojify.run(i[0]),$("pre code",i[0]).each(function(t,e){hljs.highlightBlock(e)}))})})}else o=t.find("textarea");return e.show(),i.hide(),0===o.val().length&&o.val(n.text()),o.focus(),!1}),$(".delete-comment").click(function(){const t=$(this);return confirm(t.data("locale"))&&$.post(t.data("url"),{_csrf:csrf}).done(function(){$("#"+t.data("comment-id")).remove()}),!1});const n=$("#status-button");$("#comment-form .edit_area").keyup(function(){0===$(this).val().length?n.text(n.data("status")):n.text(n.data("status-and-comment"))}),n.click(function(){$("#status").val(n.data("status-val")),$("#comment-form").submit()})}if($(".repository.diff").length>0){const t=$(".diff-counter");t.length>=1&&t.each(function(t,e){const i=$(e),n=i.find("span[data-line].add").data("line"),o=i.find("span[data-line].del").data("line"),a=parseFloat(n)/(parseFloat(n)+parseFloat(o))*100;i.find(".bar .add").css("width",a+"%")}),$(".diff-file-box .lines-num").click(function(){$(this).attr("id")&&(window.location.href="#"+$(this).attr("id"))}),$(window).on("hashchange",function(t){$(".diff-file-box .lines-code.active").removeClass("active");const e=window.location.hash.match(/^#diff-.+$/);e&&$(e[0]).siblings(".lines-code").addClass("active")}).trigger("hashchange")}$("#repo-clone-ssh").click(function(){$(".clone-url").text($(this).data("link")),$("#repo-clone-url").val($(this).data("link")),$(this).addClass("blue"),$("#repo-clone-https").removeClass("blue"),localStorage.setItem("repo-clone-protocol","ssh")}),$("#repo-clone-https").click(function(){$(".clone-url").text($(this).data("link")),$("#repo-clone-url").val($(this).data("link")),$(this).addClass("blue"),$("#repo-clone-ssh").removeClass("blue"),localStorage.setItem("repo-clone-protocol","https")}),$("#repo-clone-url").click(function(){$(this).select()}),$(".repository.compare.pull").length>0&&t(".choose.branch .dropdown"),$(".repository.view.pull").length>0&&$(".comment.merge.box input[name=merge_style]").change(function(){"create_merge_commit"===$(this).val()?$(".commit.description.field").show():$(".commit.description.field").hide()})}function t(t){const e=$(t);e.dropdown({fullTextSearch:!0,onChange:function(t,e,i){window.location.href=i.data("url"),console.log(i.data("url"))},message:{noResults:e.data("no-results")}})}}function initWikiForm(){const t=$(".repository.wiki textarea#edit_area");t.length>0&&new SimpleMDE({autoDownloadFontAwesome:!1,element:t[0],forceSync:!0,previewRender:function(e,i){return setTimeout(function(){$.post(t.data("url"),{_csrf:csrf,mode:"gfm",context:t.data("context"),text:e},function(t){i.innerHTML='<div class="markdown">'+t+"</div>",emojify.run($(".editor-preview")[0])})},0),"Loading..."},renderingConfig:{singleLineBreaks:!1},indentWithTabs:!1,tabSize:4,spellChecker:!1,toolbar:["bold","italic","strikethrough","|","heading-1","heading-2","heading-3","heading-bigger","heading-smaller","|","code","quote","|","unordered-list","ordered-list","|","link","image","table","horizontal-rule","|","clean-block","preview","fullscreen"]})}function setSimpleMDE(t){return codeMirrorEditor&&(codeMirrorEditor.toTextArea(),codeMirrorEditor=null),!!simpleMDEditor||(simpleMDEditor=new SimpleMDE({autoDownloadFontAwesome:!1,element:t[0],forceSync:!0,renderingConfig:{singleLineBreaks:!1},indentWithTabs:!1,tabSize:4,spellChecker:!1,previewRender:function(e,i){return setTimeout(function(){$.post(t.data("url"),{_csrf:csrf,mode:"gfm",context:t.data("context"),text:e},function(t){i.innerHTML='<div class="markdown">'+t+"</div>",emojify.run($(".editor-preview")[0])})},0),"Loading..."},toolbar:["bold","italic","strikethrough","|","heading-1","heading-2","heading-3","heading-bigger","heading-smaller","|","code","quote","|","unordered-list","ordered-list","|","link","image","table","horizontal-rule","|","clean-block"]}),!0)}function setCodeMirror(t){return simpleMDEditor&&(simpleMDEditor.toTextArea(),simpleMDEditor=null),!!codeMirrorEditor||((codeMirrorEditor=CodeMirror.fromTextArea(t[0],{lineNumbers:!0,theme:"material-ocean"})).on("change",function(e,i){t.val(e.getValue())}),!0)}function initEditor(){$(".js-quick-pull-choice-option").change(function(){"commit-to-new-branch"===$(this).val()?($(".quick-pull-branch-name").show(),$(".quick-pull-branch-name input").prop("required",!0)):($(".quick-pull-branch-name").hide(),$(".quick-pull-branch-name input").prop("required",!1))});const t=$("#file-name");t.keyup(function(t){let e,i;const n=$(".breadcrumb span.section"),o=$(".breadcrumb div.divider");if(8===t.keyCode&&0===$(this).getCursorPosition()&&n.length>0&&(e=n.last().find("a").text(),$(this).val(e+$(this).val()),$(this)[0].setSelectionRange(e.length,e.length),n.last().remove(),o.last().remove()),191===t.keyCode){i=$(this).val().split("/");for(let t=0;t<i.length;++t)e=i[t],t<i.length-1?e.length&&($('<span class="section"><a href="#">'+e+"</a></span>").insertBefore($(this)),$('<div class="divider"> / </div>').insertBefore($(this))):$(this).val(e),$(this)[0].setSelectionRange(0,0)}i=[],$(".breadcrumb span.section").each(function(t,e){(e=$(e)).find("a").length?i.push(e.find("a").text()):i.push(e.text())}),$(this).val()&&i.push($(this).val());const a=i.join("/");$("#tree_path").val(a);const s=$("#preview-tab");s.data("context",s.data("root-context")+a.substring(0,a.lastIndexOf("/")+1))}).trigger("keyup");const e=$(".repository.editor textarea#edit_area");if(!e.length)return;const i=e.data("markdown-file-exts").split(","),n=e.data("line-wrap-extensions").split(",");t.on("keyup",function(o){const a=t.val();let s,r,c,l,d,h,u,f;l=d="",(s=/.+\.([^.]+)$/.exec(a))&&(d="."+(l=s[1].toLowerCase()));const p=CodeMirror.findModeByExtension(l);if(h=$("a[data-tab=preview]"),p?(r=p.mode,c=p.mime,f=r):f=l,h.length&&f&&previewFileModes&&previewFileModes.length&&previewFileModes.indexOf(f)>=0?(u=h.data("url"),h.data("url",u.replace(/(.*)\/.*/i,"$1/"+r)),h.show()):h.hide(),i.indexOf(d)>=0&&setSimpleMDE(e))return;if(!codeMirrorEditor&&!setCodeMirror(e))return;codeMirrorEditor.setOption("theme","material-ocean"),r&&(codeMirrorEditor.setOption("mode",c),CodeMirror.autoLoadMode(codeMirrorEditor,r)),n.indexOf(d)>=0?codeMirrorEditor.setOption("lineWrapping",!0):codeMirrorEditor.setOption("lineWrapping",!1);let m=t.val();0!==m.length&&(m=(m=m.split("/"))[m.length-1],$.getJSON(t.data("ec-url-prefix")+m,function(t){"tab"===t.indent_style?(codeMirrorEditor.setOption("indentWithTabs",!0),codeMirrorEditor.setOption("extraKeys",{})):(codeMirrorEditor.setOption("indentWithTabs",!1),codeMirrorEditor.setOption("extraKeys",{Tab:function(t){const e=Array(parseInt(t.getOption("indentUnit"))+1).join(" ");t.replaceSelection(e)}})),codeMirrorEditor.setOption("indentUnit",t.indent_size||4),codeMirrorEditor.setOption("tabSize",t.tab_width||4)}))}).trigger("keyup")}function initOrganization(){0!==$(".organization").length&&$(".organization.settings.options").length>0&&$("#org_name").keyup(function(){const t=$("#org-name-change-prompt");$(this).val().toString().toLowerCase()!==$(this).data("org-name").toString().toLowerCase()?t.show():t.hide()})}function initAdmin(){if(0!==$(".admin").length){if(($(".admin.new.user").length>0||$(".admin.edit.user").length>0)&&$("#login_type").change(function(){"0"===$(this).val().substring(0,1)?($("#login_name").removeAttr("required"),$(".non-local").hide(),$(".local").show(),$("#user_name").focus(),"required"===$(this).data("password")&&$("#password").attr("required","required")):($("#login_name").attr("required","required"),$(".non-local").show(),$(".local").hide(),$("#login_name").focus(),$("#password").removeAttr("required"))}),$(".admin.new.authentication").length>0&&($("#auth_type").change(function(){$(".ldap").hide(),$(".dldap").hide(),$(".smtp").hide(),$(".pam").hide(),$(".github").hide(),$(".has-tls").hide();const t=$(this).val();switch(t){case"2":$(".ldap").show();break;case"3":$(".smtp").show(),$(".has-tls").show();break;case"4":$(".pam").show();break;case"5":$(".dldap").show();break;case"6":$(".github").show(),$(".has-tls").show()}"2"!==t&&"5"!==t||e()}),$("#security_protocol").change(e)),$(".admin.edit.authentication").length>0){var t=$("#auth_type").val();"2"!==t&&"5"!==t||$("#security_protocol").change(e)}if($(".admin.notice")){const t=$("#detail-modal");$(".view-detail").click(function(){return t.find(".content p").text($(this).data("content")),t.modal("show"),!1});const e=$(".select.table .ui.checkbox");$(".select.action").click(function(){switch($(this).data("action")){case"select-all":e.checkbox("check");break;case"deselect-all":e.checkbox("uncheck");break;case"inverse":e.checkbox("toggle")}}),$("#delete-selection").click(function(){const t=$(this);t.addClass("loading disabled");const i=[];e.each(function(){$(this).checkbox("is checked")&&i.push($(this).data("id"))}),$.post(t.data("link"),{_csrf:csrf,ids:i}).done(function(){window.location.href=t.data("redirect")})})}}function e(){$("#security_protocol").val()>0?$(".has-tls").show():$(".has-tls").hide()}}function buttonsClickOnEnter(){$(".ui.button").keypress(function(t){13!==t.keyCode&&32!==t.keyCode||$(this).click()})}function hideWhenLostFocus(t,e){$(document).click(function(i){const n=i.target;$(n).is(t)||$(n).parents().is(e)||$(t).hide()})}function searchUsers(){if(!$("#search-user-box .results").length)return;const t=$("#search-user-box"),e=t.find(".results");t.keyup(function(){const t=$(this),i=t.find("input").val();i.length<2?e.hide():$.ajax({url:suburl+"/api/v1/users/search?q="+i,dataType:"json",success:function(i){if(e.html(""),i.ok&&i.data.length){let n="";$.each(i.data,function(t,e){var i;n+='<div class="item"><img class="ui avatar image" src="'+e.avatar_url+'"><span class="username">'+e.username+"</span>",(i=e.full_name)&&i.length>0&&(n+=" ("+e.full_name+")"),n+="</div>"}),e.html(n),t.find(".results .item").click(function(){t.find("input").val($(this).find(".username").text()),e.hide()}),e.show()}else e.hide()}})}),t.find("input").focus(function(){t.keyup()}),hideWhenLostFocus("#search-user-box .results","#search-user-box")}function searchRepositories(){if(!$("#search-repo-box .results").length)return;const t=$("#search-repo-box"),e=t.find(".results");t.keyup(function(){const i=$(this),n=i.find("input").val();n.length<2?e.hide():$.ajax({url:suburl+"/api/v1/repos/search?q="+n+"&uid="+t.data("uid"),dataType:"json",success:function(t){if(e.html(""),t.ok&&t.data.length){let n="";$.each(t.data,function(t,e){n+='<div class="item"><i class="octicon octicon-repo"></i> <span class="fullname">'+e.full_name+"</span></div>"}),e.html(n),i.find(".results .item").click(function(){i.find("input").val($(this).find(".fullname").text().split("/")[1]),e.hide()}),e.show()}else e.hide()}})}),t.find("input").focus(function(){t.keyup()}),hideWhenLostFocus("#search-repo-box .results","#search-repo-box")}function initCodeView(){$(".code-view .linenums").length>0&&($(document).on("click",".lines-num span",function(t){const e=$(this),i=e.parent().siblings(".lines-code").find("ol.linenums > li");selectRange(i,i.filter("[rel="+e.attr("id")+"]"),t.shiftKey?i.filter(".active").eq(0):null),deSelect()}),$(window).on("hashchange",function(t){let e=window.location.hash.match(/^#(L\d+)\-(L\d+)$/);const i=$(".code-view ol.linenums > li");let n;if(e)return n=i.filter("."+e[1]),selectRange(i,n,i.filter("."+e[2])),void $("html, body").scrollTop(n.offset().top-200);(e=window.location.hash.match(/^#(L\d+)$/))&&(n=i.filter("."+e[1]),selectRange(i,n),$("html, body").scrollTop(n.offset().top-200))}).trigger("hashchange"))}function initUserSettings(){console.log("initUserSettings"),$(".user.settings.profile").length>0&&$("#username").keyup(function(){const t=$("#name-change-prompt");$(this).val().toString().toLowerCase()!==$(this).data("name").toString().toLowerCase()?t.show():t.hide()})}function initRepositoryCollaboration(){console.log("initRepositoryCollaboration"),$(".access-mode.menu .item").click(function(){const t=$(this).parent();$.post(t.data("url"),{_csrf:csrf,uid:t.data("uid"),mode:$(this).data("value")})})}function initWebhookSettings(){$(".events.checkbox input").change(function(){$(this).is(":checked")&&$(".events.fields").show()}),$(".non-events.checkbox input").change(function(){$(this).is(":checked")&&$(".events.fields").hide()}),$(".hook.history.list .toggle.button").click(function(){$($(this).data("target")+" .nohighlight").each(function(){const t=$(this);t.removeClass("nohighlight"),setTimeout(function(){hljs.highlightBlock(t[0])},500)})}),$(".delivery.button, .redelivery.button").click(function(){const t=$(this);t.addClass("loading disabled"),$.post(t.data("link"),{_csrf:csrf}).done(setTimeout(function(){window.location.href=t.data("redirect")},5e3))})}function changeHash(t){history.pushState?history.pushState(null,null,t):location.hash=t}function deSelect(){window.getSelection?window.getSelection().removeAllRanges():document.selection.empty()}function selectRange(t,e,i){if(t.removeClass("active"),i){let n,o=parseInt(e.attr("rel").substr(1)),a=parseInt(i.attr("rel").substr(1));if(o!==a){o>a&&(n=o,o=a,a=n);const e=[];for(let t=o;t<=a;t++)e.push(".L"+t);return t.filter(e.join(",")).addClass("active"),void changeHash("#L"+o+"-L"+a)}}e.addClass("active"),changeHash("#"+e.attr("rel"))}function getByteLen(t){t=String(t);let e=0;for(let i=0;i<t.length;i++){const n=t.charCodeAt(i);e+=n<128?1:n<2048?2:n<65536?3:n<1<<21?4:n<1<<26?5:n<1<<31?6:Number.NaN}return e}function showMessageMaxLength(t,e,i){const n=$("#"+e);$("#"+i).html(t-getByteLen(n.val()));const o=function(e){const n=$(this),o=getByteLen(n.val());let a=t-o;o>=t&&(n.val(n.val().substr(0,t)),a=0),$("#"+i).html(a)};n.keyup(o).keydown(o)}String.prototype.endsWith=function(t){const e=this.length-t.length;return e>=0&&this.lastIndexOf(t)===e},function(t,e){t.fn.getCursorPosition=function(){const e=t(this).get(0);let i=0;if("selectionStart"in e)i=e.selectionStart;else if("selection"in document){e.focus();const t=document.selection.createRange(),n=document.selection.createRange().text.length;t.moveStart("character",-e.value.length),i=t.text.length-n}return i}}(jQuery),$(document).ready(function(){csrf=$("meta[name=_csrf]").attr("content"),suburl=$("meta[name=_suburl]").attr("content"),$("input[autofocus]").each(function(){$(this).val($(this).val())}),$(".time-since").each(function(){$(this).addClass("poping up").attr("data-content",$(this).attr("title")).attr("data-variation","inverted tiny").attr("title","")}),$(".ui.dropdown").dropdown({forceSelection:!1}),$(".jump.dropdown").dropdown({action:"select",onShow:function(){$(".poping.up").popup("hide")}}),$(".slide.up.dropdown").dropdown({transition:"slide up"}),$(".upward.dropdown").dropdown({direction:"upward"}),$(".ui.accordion").accordion(),$(".ui.checkbox").checkbox(),$(".ui.progress").progress({showActivity:!1}),$(".poping.up").popup(),$(".top.menu .poping.up").popup({onShow:function(){if($(".top.menu .menu.transition").hasClass("visible"))return!1}}),$(".tabular.menu .item").tab(),$(".tabable.menu .item").tab(),$(".toggle.button").click(function(){$($(this).data("target")).slideToggle(100)});const t=$("#dropzone");if(t.length>0){const e={};t.dropzone({url:t.data("upload-url"),headers:{"X-CSRF-Token":csrf},maxFiles:t.data("max-file"),maxFilesize:t.data("max-size"),acceptedFiles:"*/*"===t.data("accepts")?null:t.data("accepts"),addRemoveLinks:!0,dictDefaultMessage:t.data("default-message"),dictInvalidFileType:t.data("invalid-input-type"),dictFileTooBig:t.data("file-too-big"),dictRemoveFile:t.data("remove-file"),init:function(){this.on("success",function(t,i){e[t.name]=i.uuid;const n=$('<input id="'+i.uuid+'" name="files" type="hidden">').val(i.uuid);$(".files").append(n)}),this.on("removedfile",function(i){i.name in e&&$("#"+e[i.name]).remove(),t.data("remove-url")&&t.data("csrf")&&$.post(t.data("remove-url"),{file:e[i.name],_csrf:t.data("csrf")})})}})}emojify.setConfig({img_dir:suburl+"/img/emoji",ignore_emoticons:!0});const e=document.getElementsByClassName("has-emoji");for(let t=0;t<e.length;t++)emojify.run(e[t]);const i=new ClipboardJS(".clipboard");if(i.on("success",function(t){t.clearSelection(),$("#"+t.trigger.getAttribute("id")).popup("destroy"),t.trigger.setAttribute("data-content",t.trigger.getAttribute("data-success")),$("#"+t.trigger.getAttribute("id")).popup("show"),t.trigger.setAttribute("data-content",t.trigger.getAttribute("data-original"))}),i.on("error",function(t){$("#"+t.trigger.getAttribute("id")).popup("destroy"),t.trigger.setAttribute("data-content",t.trigger.getAttribute("data-error")),$("#"+t.trigger.getAttribute("id")).popup("show"),t.trigger.setAttribute("data-content",t.trigger.getAttribute("data-original"))}),$("#description.autosize").length>0&&(autosize($("#description")),showMessageMaxLength(512,"description","descLength")),$(".ajax-load-button").click(function(){const t=$(this);t.addClass("disabled"),$.ajax({url:t.data("url"),headers:{"X-AJAX":"true"}}).done(function(e,i,n){$(e).insertBefore(t);const o=n.getResponseHeader("X-AJAX-URL");o?(t.data("url",o),t.removeClass("disabled")):t.remove()})}),$(".delete-button").click(function(){const t=$(this);return $(".delete.modal").modal({closable:!1,onApprove:function(){"form"!==t.data("type")?$.post(t.data("url"),{_csrf:csrf,id:t.data("id")}).done(function(t){window.location.href=t.redirect}):$(t.data("form")).submit()}}).modal("show"),!1}),$(".show-panel.button").click(function(){$($(this).data("panel")).show()}),$(".show-modal.button").click(function(){$($(this).data("modal")).modal("show")}),$(".delete-post.button").click(function(){const t=$(this);$.post(t.data("request-url"),{_csrf:csrf}).done(function(){window.location.href=t.data("done-url")})}),$(".submit-button").click(function(){$($(this).data("form")).submit()}),$(".enable-system").change(function(){this.checked?$($(this).data("target")).removeClass("disabled"):($($(this).data("target")).addClass("disabled"),$($(this).data("uncheck")).prop("checked",!1))}),$(".enable-system-radio").change(function(){$($(this).data("enable")).removeClass("disabled"),$($(this).data("disable")).addClass("disabled"),$($(this).data("uncheck")).prop("checked",!1)}),$(".markdown").each(function(){const t={};$(this).find("h1, h2, h3, h4, h5, h6").each(function(){let e=$(this);const i=encodeURIComponent(e.text().toLowerCase().replace(/[^\u00C0-\u1FFF\u2C00-\uD7FF\w\- ]/g,"").replace(/[ ]/g,"-"));let n=i;t[i]>0&&(n=i+"-"+t[i]),void 0===t[i]?t[i]=1:t[i]+=1,(e=e.wrap('<div id="'+n+'" class="anchor-wrap" ></div>')).append('<a class="anchor" href="#'+n+'"><span class="octicon octicon-link"></span></a>')})}),buttonsClickOnEnter(),searchUsers(),searchRepositories(),initCommentForm(),initRepository(),initWikiForm(),initEditForm(),initEditor(),initOrganization(),initAdmin(),initCodeView(),$("#repo-clone-url").length>0)switch(localStorage.getItem("repo-clone-protocol")){case"ssh":0===$("#repo-clone-ssh").click().length&&$("#repo-clone-https").click();break;default:$("#repo-clone-https").click()}const n={"div.user.settings":initUserSettings,"div.repository.settings.collaboration":initRepositoryCollaboration,"div.webhook.settings":initWebhookSettings};let o;for(o in n)if($(o).length>0){n[o]();break}}),$(function(){$(".user.signin").length>0||$("form").areYouSure()});
